<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Harry Potter Game</title>
    <link rel="stylesheet" href="index.css" type="text/css">
</head>
<body>
    <style>
        body {
            background-image: url('../content_part/aa775f5e2a776159339c88bbf2050435.jpg');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        #loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: black;
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 24px;
            z-index: 9999;
        }
    </style>

    <div id="loading-screen">Loading...</div>

    <script>
        window.addEventListener('load', () => {
            const loadingScreen = document.getElementById('loading-screen');
            loadingScreen.style.display = 'none';
        });
    </script>

    <audio id="narrator-audio">
        <source src="../content_part/1st intr.m4a" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>

    <div class="instruction_box" style="
        display: flex;
        justify-content: center;
        align-items: center;
        background-color: bisque;
        border-radius: 15px;
        width: 70%;
        border: 4px solid rgb(84, 35, 5);
        height: 400px;
        margin: auto;
        margin-top: 13%;
        box-shadow: 0 4px 8px rgba(41, 40, 40, 0.2);
        text-align: center;
    ">
        <p id="animatedText" style="font-size: 20px; color: #333; padding: 10px; white-space: pre-wrap; font-family:'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;"></p>
    </div>

    <script>
        const text = `"There yeh are! I was hopin’ yeh’d show up. The name’s Rubeus Hagrid, Keeper of Keys and Grounds at Hogwarts. Yeh must be wonderin’ why I’m here, eh? Well, it's serious business this time." \n\n
        "Harry’s discovered somethin’ terrible—another Horcrux. Now, if yeh don’t know what a Horcrux is, it’s a dark bit o’ magic. Real nasty stuff. You-Know-Who—Voldemort—split his soul into pieces, hidin’ ‘em in objects to make himself immortal. Destroyin’ ‘em is the only way to finish ‘im for good." \n\n
        "Harry, Ron, and Hermione can’t do this alone. They need someone brave, someone ready to face danger. That’s where you come in! Will yeh help ‘em track down the lost Horcruxes and put an end to Voldemort’s evil for good?"`;

        const animatedTextElement = document.getElementById('animatedText');
        const narratorAudio = document.getElementById('narrator-audio');
        let index = 0;

        function typeText() {
            if (index < text.length) {
                animatedTextElement.textContent += text[index];
                index++;
                setTimeout(typeText, 44);
            } else {
                addYesButton();
            }
        }

        function addYesButton() {
            const button = document.createElement('button');
            button.textContent = 'Yes';
            button.style = `margin-top: 20px; padding: 10px 20px; font-size: 16px; border-radius: 5px; border: none; background-color: rgb(84, 35, 5); color: white; cursor: pointer; font-family:'Gill Sans', sans-serif;`;
            button.addEventListener('click', () => window.location.href = 'page2.html');
            animatedTextElement.parentElement.appendChild(button);
        }

        function showNarrator() {
            const narratorContainer = document.createElement('div');
            narratorContainer.style = 'position: fixed; bottom: -200px; left: 20px; display: flex; flex-direction: column; align-items: center; transition: bottom 1s ease-in-out;';

            const narratorImage = document.createElement('img');
            narratorImage.src = '../content_part/OG hagrid.png';
            narratorImage.alt = 'Narrator';
            narratorImage.style = 'width: 150px; height: auto;';

            const playPauseButton = document.createElement('button');
            playPauseButton.textContent = 'Pause Audio';
            playPauseButton.style = 'margin-top: 10px; padding: 10px 20px; font-size: 16px; border-radius: 5px; border: none; background-color: rgb(84, 35, 5); color: white; cursor: pointer; font-family: "Gill Sans", sans-serif;';

            playPauseButton.addEventListener('click', () => {
                if (narratorAudio.paused) {
                    narratorAudio.play();
                    playPauseButton.textContent = 'Pause Audio';
                } else {
                    narratorAudio.pause();
                    playPauseButton.textContent = 'Play Audio';
                }
            });

            narratorContainer.appendChild(narratorImage);
            narratorContainer.appendChild(playPauseButton);
            document.body.appendChild(narratorContainer);

            setTimeout(() => narratorContainer.style.bottom = '20px', 100);
        }

        function autoplayAudio() {
            narratorAudio.play().then(() => {
                console.log("Audio autoplayed successfully.");
            }).catch((error) => {
                console.log("Autoplay failed, attempting workaround:", error);
                document.addEventListener("click", () => {
                    narratorAudio.play();
                }, { once: true });
            });
        }

        window.onload = function() {
            autoplayAudio();
            showNarrator();
            typeText();
        };
        const skipButton = document.createElement('button');
        skipButton.textContent = 'Skip';
        skipButton.style = `position: fixed; top: 20px; right: 20px; padding: 10px 20px; font-size: 16px; border-radius: 5px; border: none; background-color: rgb(84, 35, 5); color: white; cursor: pointer; font-family:'Gill Sans', sans-serif; z-index: 10000;`;
        document.body.appendChild(skipButton);

        let typingSpeed = 44; // Default typing speed

        skipButton.addEventListener('click', () => {
            typingSpeed = 5; // Reduce typing speed significantly
        });

        function typeText() {
            if (index < text.length) {
            animatedTextElement.textContent += text[index];
            index++;
            setTimeout(typeText, typingSpeed);
            } else {
            addYesButton();
            }
        }
    </script>


     <div class="circle"></div>
     <div class="circle"></div>
     <div class="circle"></div>
     <div class="circle"></div>
     <div class="circle"></div>
     <div class="circle"></div>
     <div class="circle"></div>
     <div class="circle"></div>
     <div class="circle"></div>
     <div class="circle"></div>
     <div class="circle"></div>
     <div class="circle"></div>
     <div class="circle"></div>
     <div class="circle"></div>
     <div class="circle"></div>
     <div class="circle"></div>
     <div class="circle"></div>
     <div class="circle"></div>
     <div class="circle"></div>
    <script src="index.js"></script>
</body>
</html>